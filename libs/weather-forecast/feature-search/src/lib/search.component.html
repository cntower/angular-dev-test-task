<h2>Weather in your city</h2>
<form class="search-form" [formGroup]="searchForm" *ngIf="searchForm" (ngSubmit)="onSubmit(searchForm.value)">
	<mat-form-field aria-label="City name">
		<mat-label>City</mat-label>
		<input matInput type="text" formControlName="cityNameQuery" placeholder="Ex. London" />
	</mat-form-field>
	<mat-radio-group aria-label="Time interval" color="primary" formControlName="timeIntervalMode">
		<mat-radio-button value="{{ TimeInterval.hourly }}">Hourly</mat-radio-button>
		<mat-radio-button value="{{ TimeInterval.daily }}">Daily</mat-radio-button>
	</mat-radio-group>
	<div>
		<button mat-raised-button color="primary" class="search-button" [disabled]="!searchForm.valid">Search</button>
	</div>
</form>
<mat-error *ngIf="getLocationcityNotFound$ | async">City not found</mat-error>

<ng-container [ngSwitch]="searchForm?.get('timeIntervalMode')?.value">
	<bp-forecast-table
		*ngSwitchCase="TimeInterval.daily"
		[viewModels]="getLocationDailyViewModels$ | async"
		headerDatePipeFormat="cccccc"
	></bp-forecast-table>

	<bp-forecast-table
		*ngSwitchCase="TimeInterval.hourly"
		[viewModels]="getLocationHourlyViewModel$ | async"
		headerDatePipeFormat="HH:mm"
	></bp-forecast-table>
</ng-container>
